<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>ISVP-SDK: IMP_IVS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ISVP-SDK
   &#160;<span id="projectnumber">T30-1.0.1</span>
   </div>
   <div id="projectbrief">Ingenic Smart Video Platform SDK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">IMP_IVS<div class="ingroups"><a class="el" href="group__imp.html">IMP(Ingenic Media Platform)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>IVS intelligent analysis common API.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for IMP_IVS:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___i_m_p___i_v_s.png" border="0" alt="" usemap="#group______i__m__p______i__v__s"/>
<map name="group______i__m__p______i__v__s" id="group______i__m__p______i__v__s">
<area shape="rect" id="node2" href="group___move_detection.html" title="motion detection interface " alt="" coords="367,5,476,35"/><area shape="rect" id="node3" href="group__imp.html" title="IMP(Ingenic Media Platform)" alt="" coords="7,5,193,35"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___move_detection"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___move_detection.html">MoveDetection</a></td></tr>
<tr class="memdesc:group___move_detection"><td class="mdescLeft">&#160;</td><td class="mdescRight">motion detection interface <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i_m_p_i_v_s_interface.html">IMPIVSInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga8170a9e0dc57c3b9e1f03f5543b9cc69"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8170a9e0dc57c3b9e1f03f5543b9cc69"></a>
typedef struct <a class="el" href="struct_i_m_p_i_v_s_interface.html">IMPIVSInterface</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga8170a9e0dc57c3b9e1f03f5543b9cc69">IMPIVSInterface</a></td></tr>
<tr class="memdesc:ga8170a9e0dc57c3b9e1f03f5543b9cc69"><td class="mdescLeft">&#160;</td><td class="mdescRight">IVS common interface. <br /></td></tr>
<tr class="separator:ga8170a9e0dc57c3b9e1f03f5543b9cc69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf4bb6f49f2a0bf8f0d5f448b6a62e6a5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#gaf4bb6f49f2a0bf8f0d5f448b6a62e6a5">IMP_IVS_CreateGroup</a> (int GrpNum)</td></tr>
<tr class="memdesc:gaf4bb6f49f2a0bf8f0d5f448b6a62e6a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create IVS group.  <a href="#gaf4bb6f49f2a0bf8f0d5f448b6a62e6a5">More...</a><br /></td></tr>
<tr class="separator:gaf4bb6f49f2a0bf8f0d5f448b6a62e6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2400f2ef403e471bd1d7c6a4eb1356f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga2400f2ef403e471bd1d7c6a4eb1356f6">IMP_IVS_DestroyGroup</a> (int GrpNum)</td></tr>
<tr class="memdesc:ga2400f2ef403e471bd1d7c6a4eb1356f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy IVS group.  <a href="#ga2400f2ef403e471bd1d7c6a4eb1356f6">More...</a><br /></td></tr>
<tr class="separator:ga2400f2ef403e471bd1d7c6a4eb1356f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada895e87ff289b637330935379e081d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#gada895e87ff289b637330935379e081d6">IMP_IVS_CreateChn</a> (int ChnNum, <a class="el" href="struct_i_m_p_i_v_s_interface.html">IMPIVSInterface</a> *handler)</td></tr>
<tr class="memdesc:gada895e87ff289b637330935379e081d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create IVS channel to one algorithm entity.  <a href="#gada895e87ff289b637330935379e081d6">More...</a><br /></td></tr>
<tr class="separator:gada895e87ff289b637330935379e081d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd3e4340777295519e7d097e4e5f30cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#gacd3e4340777295519e7d097e4e5f30cd">IMP_IVS_DestroyChn</a> (int ChnNum)</td></tr>
<tr class="memdesc:gacd3e4340777295519e7d097e4e5f30cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy IVS channel.  <a href="#gacd3e4340777295519e7d097e4e5f30cd">More...</a><br /></td></tr>
<tr class="separator:gacd3e4340777295519e7d097e4e5f30cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga001fe0e1ee94b91bc4f2a08474ecd652"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga001fe0e1ee94b91bc4f2a08474ecd652">IMP_IVS_RegisterChn</a> (int GrpNum, int ChnNum)</td></tr>
<tr class="memdesc:ga001fe0e1ee94b91bc4f2a08474ecd652"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register one ivs channel to an ivs group.  <a href="#ga001fe0e1ee94b91bc4f2a08474ecd652">More...</a><br /></td></tr>
<tr class="separator:ga001fe0e1ee94b91bc4f2a08474ecd652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b756088952b6ff0f483b0d5826109ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga9b756088952b6ff0f483b0d5826109ec">IMP_IVS_UnRegisterChn</a> (int ChnNum)</td></tr>
<tr class="memdesc:ga9b756088952b6ff0f483b0d5826109ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister one ivs channel from its registered ivs group.  <a href="#ga9b756088952b6ff0f483b0d5826109ec">More...</a><br /></td></tr>
<tr class="separator:ga9b756088952b6ff0f483b0d5826109ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1ffe26e56f2d8f8bce812b3d26111db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#gaf1ffe26e56f2d8f8bce812b3d26111db">IMP_IVS_StartRecvPic</a> (int ChnNum)</td></tr>
<tr class="memdesc:gaf1ffe26e56f2d8f8bce812b3d26111db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel starts receiving picture(s)  <a href="#gaf1ffe26e56f2d8f8bce812b3d26111db">More...</a><br /></td></tr>
<tr class="separator:gaf1ffe26e56f2d8f8bce812b3d26111db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3452e6eb4c0838a6ce1e5c2907f51fc3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga3452e6eb4c0838a6ce1e5c2907f51fc3">IMP_IVS_StopRecvPic</a> (int ChnNum)</td></tr>
<tr class="memdesc:ga3452e6eb4c0838a6ce1e5c2907f51fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel stops receiving picture(s)  <a href="#ga3452e6eb4c0838a6ce1e5c2907f51fc3">More...</a><br /></td></tr>
<tr class="separator:ga3452e6eb4c0838a6ce1e5c2907f51fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ff339164b80826f2288766482da907c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga4ff339164b80826f2288766482da907c">IMP_IVS_PollingResult</a> (int ChnNum, int timeoutMs)</td></tr>
<tr class="memdesc:ga4ff339164b80826f2288766482da907c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the blocking judge can or can not get the result of IVS function.  <a href="#ga4ff339164b80826f2288766482da907c">More...</a><br /></td></tr>
<tr class="separator:ga4ff339164b80826f2288766482da907c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39b67051ba392735d9719c37968717f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga39b67051ba392735d9719c37968717f6">IMP_IVS_GetResult</a> (int ChnNum, void **result)</td></tr>
<tr class="memdesc:ga39b67051ba392735d9719c37968717f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get IVS algorithm check result.  <a href="#ga39b67051ba392735d9719c37968717f6">More...</a><br /></td></tr>
<tr class="separator:ga39b67051ba392735d9719c37968717f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c8a0109894c69f3e83ec5c4f73e5e74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga4c8a0109894c69f3e83ec5c4f73e5e74">IMP_IVS_ReleaseResult</a> (int ChnNum, void *result)</td></tr>
<tr class="memdesc:ga4c8a0109894c69f3e83ec5c4f73e5e74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release IVS algorithm check result.  <a href="#ga4c8a0109894c69f3e83ec5c4f73e5e74">More...</a><br /></td></tr>
<tr class="separator:ga4c8a0109894c69f3e83ec5c4f73e5e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga079dccc637f16934f905a7518fb44e9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga079dccc637f16934f905a7518fb44e9e">IMP_IVS_ReleaseData</a> (void *vaddr)</td></tr>
<tr class="memdesc:ga079dccc637f16934f905a7518fb44e9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release IVS function to calculate the resources result.  <a href="#ga079dccc637f16934f905a7518fb44e9e">More...</a><br /></td></tr>
<tr class="separator:ga079dccc637f16934f905a7518fb44e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59ddb3579c4d1221da6e2c45d929bfc2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga59ddb3579c4d1221da6e2c45d929bfc2">IMP_IVS_GetParam</a> (int chnNum, void *param)</td></tr>
<tr class="memdesc:ga59ddb3579c4d1221da6e2c45d929bfc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the algorithm parameter held by the channel indexed by ChnNum.  <a href="#ga59ddb3579c4d1221da6e2c45d929bfc2">More...</a><br /></td></tr>
<tr class="separator:ga59ddb3579c4d1221da6e2c45d929bfc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a0e9458531fb623d2af6dacfab5acc0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_m_p___i_v_s.html#ga2a0e9458531fb623d2af6dacfab5acc0">IMP_IVS_SetParam</a> (int chnNum, void *param)</td></tr>
<tr class="memdesc:ga2a0e9458531fb623d2af6dacfab5acc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the algorithm parameter held by the channel indexed by ChnNum.  <a href="#ga2a0e9458531fb623d2af6dacfab5acc0">More...</a><br /></td></tr>
<tr class="separator:ga2a0e9458531fb623d2af6dacfab5acc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>IVS intelligent analysis common API. </p>
<h1><a class="anchor" id="concept"></a>
1 Concept</h1>
<p>IMP IVS's main goal is to provide users with a number of embedded intelligent analysis algorithm to SDK interface.</p>
<h2><a class="anchor" id="IMPIVSInterface"></a>
1.1 IMPIVSInterface</h2>
<p><a class="el" href="struct_i_m_p_i_v_s_interface.html">IMPIVSInterface</a> is the common algorithm interface, the Specific algorithm through the implementation of this interface and pass it to the IVS IMP to achieve the purpose of running the specific algorithm in SDK.</p>
<p>For a channel to be an algorithm that can run the carrier, the Channel has to be into the SDK. To do so, we need to transmit the specific implementation of the general algorithm to the specific interface of this Channel.</p>
<p><a class="el" href="struct_i_m_p_i_v_s_interface.html">IMPIVSInterface</a> member parameter is the init member parameter, it is a must to include int (*free_data)(void *data) member, and assigned to IMP_IVS_ReleaseDa in order to avoid a lock (out).</p>
<h1><a class="anchor" id="ivs_usage"></a>
2 Using method</h1>
<p>Motion detection, as an example, reference: sample-move_c.c document.</p>
<p>Step.1 Init system, call sample_system_init() realized in examples. <br />
All applications should be initialized only one time.</p>
<p>step.2 Init framesource, if it is already created, you can just use it( continue with the process) if it is not created, call sample_framesource_init(IVS_FS_CHN, &amp;fs_chn_attr)</p>
<p>step.3 Create IVS group <br />
Multiple algorithm can be used to share a channel group, also can partly use the channel group reference: sample_ivs_move_init() function. </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> sample_ivs_move_init(<span class="keywordtype">int</span> grp_num)</div>
<div class="line">{</div>
<div class="line">        <span class="keywordtype">int</span> ret = 0;</div>
<div class="line"></div>
<div class="line">        ret = <a class="code" href="group___i_m_p___i_v_s.html#gaf4bb6f49f2a0bf8f0d5f448b6a62e6a5">IMP_IVS_CreateGroup</a>(grp_num);</div>
<div class="line">        <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">                IMP_LOG_ERR(TAG, <span class="stringliteral">&quot;IMP_IVS_CreateGroup(%d) failed\n&quot;</span>, grp_num);</div>
<div class="line">                <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>step.4 Bind IVS group to Framesource group </p><div class="fragment"><div class="line"><a class="code" href="struct_i_m_p_cell.html">IMPCell</a> framesource_cell = {<a class="code" href="imp__common_8h.html#a6dadfc8115cc4a18ce760e442584c4e7a162de33439c347ecba2e19b30644b208">DEV_ID_FS</a>, IVS_FS_CHN, 0};</div>
<div class="line"><a class="code" href="struct_i_m_p_cell.html">IMPCell</a> ivs_cell = {<a class="code" href="imp__common_8h.html#a6dadfc8115cc4a18ce760e442584c4e7ae0021eea40513cbb341cd5078bca3da6">DEV_ID_IVS</a>, 0, 0};</div>
<div class="line">ret = <a class="code" href="group___i_m_p___system.html#gab53c6fd017fab6386696320af29354ed">IMP_System_Bind</a>(&amp;framesource_cell, &amp;ivs_cell);</div>
<div class="line"><span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">   IMP_LOG_ERR(TAG, <span class="stringliteral">&quot;Bind FrameSource channel%d and ivs0 failed\n&quot;</span>, IVS_FS_CHN);</div>
<div class="line">   <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
</div><!-- fragment --><p>step.5 Enable Framesource and channel algorithm. Advice : ivs index is equal to ivs channel num in order to make it more convenient to use them. </p><div class="fragment"><div class="line"><a class="code" href="group___i_m_p___frame_source.html#ga5a433ca616cb0c1fe82f400161a411b1">IMP_FrameSource_SetFrameDepth</a>(0, 0);</div>
<div class="line">ret = sample_framesource_streamon(IVS_FS_CHN);</div>
<div class="line"><span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">   IMP_LOG_ERR(TAG, <span class="stringliteral">&quot;ImpStreamOn failed\n&quot;</span>);</div>
<div class="line">   <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
<div class="line">ret = sample_ivs_move_start(0, 0, &amp;inteface);</div>
<div class="line"><span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">   IMP_LOG_ERR(TAG, <span class="stringliteral">&quot;sample_ivs_move_start(0, 0) failed\n&quot;</span>);</div>
<div class="line">   <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
</div><!-- fragment --><p>step.6 Get algorithm result<br />
Obtain the results and release the results must be strictly corresponding, can not be interrupted in the middle. </p><div class="fragment"><div class="line"><span class="keywordflow">for</span> (i = 0; i &lt; NR_FRAMES_TO_IVS; i++) {</div>
<div class="line">   ret = <a class="code" href="group___i_m_p___i_v_s.html#ga4ff339164b80826f2288766482da907c">IMP_IVS_PollingResult</a>(0, IMP_IVS_DEFAULT_TIMEOUTMS);</div>
<div class="line">   <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">           IMP_LOG_ERR(TAG, <span class="stringliteral">&quot;IMP_IVS_PollingResult(%d, %d) failed\n&quot;</span>, 0, IMP_IVS_DEFAULT_TIMEOUTMS);</div>
<div class="line">           <span class="keywordflow">return</span> -1;</div>
<div class="line">   }</div>
<div class="line">   ret = <a class="code" href="group___i_m_p___i_v_s.html#ga39b67051ba392735d9719c37968717f6">IMP_IVS_GetResult</a>(0, (<span class="keywordtype">void</span> **)&amp;result);</div>
<div class="line">   <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">           IMP_LOG_ERR(TAG, <span class="stringliteral">&quot;IMP_IVS_GetResult(%d) failed\n&quot;</span>, 0);</div>
<div class="line">           <span class="keywordflow">return</span> -1;</div>
<div class="line">   }</div>
<div class="line">   IMP_LOG_INFO(TAG, <span class="stringliteral">&quot;frame[%d], result-&gt;ret=%d\n&quot;</span>, i, result-&gt;ret);</div>
<div class="line"></div>
<div class="line">   ret = <a class="code" href="group___i_m_p___i_v_s.html#ga4c8a0109894c69f3e83ec5c4f73e5e74">IMP_IVS_ReleaseResult</a>(0, (<span class="keywordtype">void</span> *)result);</div>
<div class="line">   <span class="keywordflow">if</span> (ret &lt; 0) {</div>
<div class="line">           IMP_LOG_ERR(TAG, <span class="stringliteral">&quot;IMP_IVS_ReleaseResult(%d) failed\n&quot;</span>, 0);</div>
<div class="line">           <span class="keywordflow">return</span> -1;</div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment --><p>step.7 </p><div class="fragment"><div class="line">sample_ivs_move_stop(0, inteface);</div>
<div class="line">     sample_framesource_streamoff(1);</div>
<div class="line">     <a class="code" href="group___i_m_p___system.html#ga759fa36b68ecc83e15362316809ba23d">IMP_System_UnBind</a>(&amp;framesource_cell, &amp;ivs_cell);</div>
<div class="line">     sample_ivs_move_exit(0);</div>
<div class="line">     sample_framesource_exit(IVS_FS_CHN);</div>
<div class="line">     sample_system_exit();</div>
</div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gada895e87ff289b637330935379e081d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_CreateChn </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChnNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_i_m_p_i_v_s_interface.html">IMPIVSInterface</a> *&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create IVS channel to one algorithm entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>IVS channel number, advice being equal to algorithm index</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handler</td><td>IVS algorithm handler, an entity of one algorithm interface.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf4bb6f49f2a0bf8f0d5f448b6a62e6a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_CreateGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>GrpNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create IVS group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">GrpNum</td><td>IVS group number</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacd3e4340777295519e7d097e4e5f30cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_DestroyChn </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChnNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy IVS channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>ivs channel number</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2400f2ef403e471bd1d7c6a4eb1356f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_DestroyGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>GrpNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy IVS group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">GrpNum</td><td>IVS group number</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga59ddb3579c4d1221da6e2c45d929bfc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_GetParam </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chnNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the algorithm parameter held by the channel indexed by ChnNum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>IVS channel number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>algorithm parameter (virtual address pointer).</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga39b67051ba392735d9719c37968717f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_GetResult </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChnNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get IVS algorithm check result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>IVS channel number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>the result to one check process of the algorithm registerd to the ivs channel(ChnNum)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>According to different functions of IVS binding channel, the output might be different (corresponding results). </dd></dl>

</div>
</div>
<a class="anchor" id="ga4ff339164b80826f2288766482da907c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_PollingResult </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChnNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeoutMs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the blocking judge can or can not get the result of IVS function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>ivs channel number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>max wait time，unit:ms;IMP_IVS_DEFAULT_TIMEOUTMS:internel wait time,0:no wait, &gt;0: customer set wait time</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>Only when the channel is created then the parameter <a class="el" href="struct_i_m_p_i_v_s_interface.html">IMPIVSInterface</a> structure (in the ProcessAsync member) returns 0, that can help to say that the return function is working properly, so the PollingResult return function can be a success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga001fe0e1ee94b91bc4f2a08474ecd652"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_RegisterChn </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>GrpNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChnNum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register one ivs channel to an ivs group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">GrpNum</td><td>IVS group number</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>IVS channel number</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>ChnNum is the registered Channel to the Group(GrpNum) </dd></dl>

</div>
</div>
<a class="anchor" id="ga079dccc637f16934f905a7518fb44e9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_ReleaseData </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>vaddr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release IVS function to calculate the resources result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vaddr</td><td>the released frame's virtual address</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>if libimp is used, it is a must to use the free_data of IVS function. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4c8a0109894c69f3e83ec5c4f73e5e74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_ReleaseResult </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChnNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release IVS algorithm check result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">GrpNum</td><td>IVS group number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>IVS channel number</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result</td><td>the result to one check process of the algorithm registerd to the ivs channel which num is ChnNum</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>According to different functions of IVS binding channel, it might Release different result resource for its output. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2a0e9458531fb623d2af6dacfab5acc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_SetParam </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chnNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the algorithm parameter held by the channel indexed by ChnNum. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>IVS channel number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>algorithm parameter pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf1ffe26e56f2d8f8bce812b3d26111db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_StartRecvPic </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChnNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel starts receiving picture(s) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>ivs channel number</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>ChnNum is the Channel which starts receiving pictures </dd></dl>

</div>
</div>
<a class="anchor" id="ga3452e6eb4c0838a6ce1e5c2907f51fc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_StopRecvPic </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChnNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channel stops receiving picture(s) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>ivs channel number</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>ChnNum is the Channel which stops receiving pictures </dd></dl>

</div>
</div>
<a class="anchor" id="ga9b756088952b6ff0f483b0d5826109ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IMP_IVS_UnRegisterChn </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ChnNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister one ivs channel from its registered ivs group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ChnNum</td><td>IVS channel number</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>success </td></tr>
    <tr><td class="paramname">1</td><td>failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 8 2020 16:09:31 for ISVP-SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
