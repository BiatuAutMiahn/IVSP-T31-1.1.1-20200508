!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=arguments[3],e=arguments[4],f=arguments[5],g=JSON.stringify;b.exports=function(a){for(var b,c=Object.keys(f),h=0,i=c.length;h<i;h++){var j=c[h];if(f[j].exports===a){b=j;break}}if(!b){b=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var k={},h=0,i=c.length;h<i;h++){var j=c[h];k[j]=j}e[b]=[Function(["require","module","exports"],"("+a+")(self)"),k]}var l=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[b]=b,e[l]=[Function(["require"],"require("+g(b)+")(self)"),m];var n="("+d+")({"+Object.keys(e).map(function(a){return g(a)+":["+e[a][0]+","+g(e[a][1])+"]"}).join(",")+"},{},["+g(l)+"])",o=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(o.createObjectURL(new Blob([n],{type:"text/javascript"})))}},{}],2:[function(a,b,c){!function(){var a=document.querySelectorAll("template");if(0!==a.length){for(var b=!0,c=0;c<a.length;c++)if(0!==a[c].childNodes.length){b=!1;break}if(!b)for(var d=0;d<a.length;d++){for(var e=a[d].childNodes,f=0;f<e.length;f++)a[d].content.appendChild(e[f].cloneNode(!0));for(;a[d].hasChildNodes();)a[d].removeChild(a[d].childNodes[0])}}}()},{}],3:[function(a,b,c){String.prototype.includes||(String.prototype.includes=function(){"use strict";return String.prototype.indexOf.apply(this,arguments)!==-1}),String.prototype.padLeft||(String.prototype.padLeft=function(){"use strict";var a=arguments[0];if("string"==typeof a){if(null===this||void 0===this)return a;var b=a.length;return(a+this).slice(-b)}return this}),String.prototype.padRight||(String.prototype.padRight=function(){"use strict";var a=arguments[0];if("string"==typeof a){if(null===this||void 0===this)return a;var b=a.length;return(this+a).substring(0,b)}return this}),String.prototype.endsWith||(String.prototype.endsWith=function(a,b){var c=this.toString(),d=b;(void 0===b||b>c.length)&&(d=c.length),d-=a.length;var e=c.indexOf(a,d);return e!==-1&&e===d}),Math.log2=Math.log2||function(a){return Math.log(a)/Math.LN2}},{}],4:[function(a,b,c){function d(){i(".messages").innerHTML="",j=1,k={},l.forEach(URL.revokeObjectURL),l=[],Array.prototype.slice.call(i.$(".button")).forEach(function(a){a.classList.add("disabled")})}function e(a,b,c,d,e){return Promise.resolve(d()).then(function(d){var f=a+"-"+c,g=document.createElement("a");g.id=f,g.download=e||b+"."+a.toLowerCase(),g.textContent=e||a.toUpperCase(),k[f]=d;var h=URL.createObjectURL(d);return l.push(h),g.href=h,Promise.resolve(g)})}function f(a,b,c){var d=i("#template").content;d.querySelector(".fname").innerHTML=a,b&&d.querySelector(".clickable").setAttribute("ref",b);var e=d.cloneNode(!0),f=e.querySelector(".display");return c?(f.innerHTML=c,f.classList.add("error")):f.querySelector(".progress").setAttribute("ref",b),e}function g(a){var b=j++;return i(".messages").appendChild(f(a,b)),b}function h(a){return function(){i(".messages").appendChild(f(a,null,"unsupported format"))}}var i=a("../utils/helper"),j=1,k={},l=[];b.exports={cleanUp:d,nextId:g,getMessageEntry:f,getLink:e,unknownFormat:h,getBlobs:function(){return k}}},{"../utils/helper":6}],5:[function(a,b,c){function d(){e("#commands-select").addEventListener("change",function(a){h.cleanUp(),i={};var b=a.target.files||a.dataTransfer.files;if(1===b.length){var c=b[0],d=new FileReader;d.onload=function(a){var b=a.name.toLowerCase();return b.endsWith(".json")?function(a){i=a.target.result}:h.unknownFormat(a.name)}(c),d.readAsText(c)}},!1),e("#calibrations-select").addEventListener("change",function(a){h.cleanUp();for(var b=a.target.files||a.dataTransfer.files,c=0;c<b.length;c++){var d=b[c],e=new FileReader;e.onload=function(a){var b=a.name.toLowerCase();return b.endsWith(".json")?j(a.name):h.unknownFormat(a.name)}(d),e.readAsText(d)}},!1)}a("../fixme"),a("../polyfill");var e=a("../utils/helper"),f=a("webworkify"),g=a("../workers/bin"),h=a("./cany"),i={},j=function(a){return function(b){i&&k(a,b.target.result)}},k=function(a,b){var c=h.nextId(a),d=e('.progress[ref="'+c+'"]'),j=f(g);j.onmessage=function(a){var b=a.data;b.done?(d.value=100,h.getLink("bin",b.name,c.toString(),function(){return new Blob([b.bin],{type:"application/octet-stream"})},b.name).then(function(a){e('.clickable[ref="'+c+'"]').appendChild(a)})):d.value=b.progress},j.onerror=function(a){var b=d.parentNode;b.innerHTML=a.message,b.classList.add("error")},j.postMessage([b,i])};"complete"===document.readyState||"interactive"===document.readyState?d():document.addEventListener("DOMContentLoaded",d)},{"../fixme":2,"../polyfill":3,"../utils/helper":6,"../workers/bin":7,"./cany":4,webworkify:1}],6:[function(a,b,c){b.exports=document.querySelector.bind(document),b.exports.$=document.querySelectorAll.bind(document)},{}],7:[function(a,b,c){var d=function(a,b,c,d,e){var f=parseInt(a);return 4===b?(e||c.setUint32(d,f,!0),d+4):2===b?(e||c.setUint16(d,f,!0),d+2):(e||c.setUint8(d,f),d+1)},e=function(a,b){return b.hasOwnProperty(a)?parseInt(b[a].value):-1},f=function(a,b,c,e,f,g){var h=287454020,i=d(h,4,a,b,g);i=d(f,4,a,i,g);for(var j=0,k=e.length;j<k;j++)i=d(e[j],c,a,i,g);return i},g=function(a,b,c,d,e){var g=parseInt(a.width);return f(c,d,g,a.value,b,e)};b.exports=function(a){a.onmessage=function(b){var c=JSON.parse(b.data[0]),f=JSON.parse(b.data[1]),h=f.calibration,i=f.calibration_isp,j=c.target,k="sensor"===j?"static.bin":"dynamic.bin",l={};for(var m in h)h.hasOwnProperty(m)&&(l[m]=h[m]);for(var n in i)i.hasOwnProperty(n)&&(l[n]=i[n]);for(var o,p,q,r=null,s=0,t=c.luts,u=0,v=t.length;u<v;u++){if(o=t[u],p=o.name,q=e(p,l),q===-1)throw new Error("failed to find id for lut "+p);s=g(o,q,r,s,!0),u%8===0&&a.postMessage({progress:40*u/v})}var w=d(4294967295,4,r,s,!0),x=new ArrayBuffer(w);for(r=new DataView(x),s=0,u=0;u<v;u++){if(o=t[u],p=o.name,q=e(p,l),q===-1)throw new Error("failed to find id for lut "+p);s=g(o,q,r,s),u%8===0&&a.postMessage({progress:40+60*u/v})}d(4294967295,4,r,s),a.postMessage({done:!0,name:k,bin:x})}}},{}]},{},[5]);